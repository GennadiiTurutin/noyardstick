<div class="col-lg-12 col-md-12 col-sm-12 mx-auto">
  <div class="row">

    <div *ngIf="post">
  
    <div class="col-lg-12 col-md-12 col-sm-12 mx-auto" style="margin: auto;"> 
      <h1> {{ post.title }} </h1>
      <img src="{{ post.post_images[0].image }}">
      <div class="container">
      <h3>
      <a
      *ngFor="let tag of post.tags"
      [routerLink]="['/tags', tag ]">
      <span class="label label-primary">{{ tag.name }}</span>
      </a>
      </h3>
      </div>
      <h2>{{ post.subtitle }}</h2>
      <p> {{ post.content }} </p>
    </div>

    
    <div class="col-lg-12 col-md-12 col-sm-12 mx-auto">

      <div class="page-header">
        <h1> Comments </h1>
        <h2 *ngIf="!userService.isLoggedIn()">You have to get registered to leave comments</h2>
      </div>
        
      <form *ngIf="userService.isLoggedIn()" (ngSubmit)="postComment()" [formGroup]="userComment">
        <div class="form-group">
          <mat-form-field class="example-full-width">
            <input 
              matInput
              formControlName="content"
              placeholder="Your precious comment">
          </mat-form-field>

          <div>
            <button mat-ripple mat-raised-button 
                   type="submit" 
                   [disabled]="userComment.invalid || loading" 
                  color="info">Comment
            </button>
          </div>
 
        </div>
      </form>

      <br>
    </div>

    <div class="col-lg-12 col-md-12 col-sm-12 mx-auto" *ngFor="let comment of post.comments ">
      <div class="col-lg-12 col-md-12 col-sm-12 mx-auto" style="border-top: 2px solid #efeff5;">
          <div class="col-lg-12 col-md-12 col-sm-12 mx-auto">
            <h4><b>{{ comment.author.username }}</b></h4> 
            <p>wrote on <i>{{ comment.date_posted | date:'medium' }}</i></p>
            <h5>{{ comment.content }}</h5>
          </div>
      </div>
    </div> 
    </div>

  </div>
</div>







